{{ define "content" }}
<div x-data="app()"
  class="w-full max-w-md md:max-w-2xl lg:max-w-4xl bg-white shadow-md rounded-md p-4 md:p-8 flex flex-col gap-4">

  <!-- Search Bar -->
  <div>
    <input x-model="search" placeholder="Rechercher" class="rounded-2xl w-full border-gray-300 border p-2" type="search"
      name="search_input" value="">
  </div>

  <!-- Groups -->
  <div class="flex gap-4 overflow-x-auto">
    <template x-for="group in filteredGroups" :key="group.id">
      <button @click="selectGroup(group.id)"
        class="w-32 flex-shrink-0 rounded shadow p-2 flex flex-col items-center transition" :class="group.id === selectedGroup 
        ? 'bg-green-100 ring-2 ring-green-500' 
        : 'bg-white'">
        <div class="w-20 h-20 mb-2">
          <img :src="group.picture" alt="" class="w-full h-full object-cover rounded-full">
        </div>
        <div class="text-center text-sm font-semibold w-full">
          <span x-text="group.name" class="truncate block"></span>
        </div>
      </button>
    </template>
  </div>

  <!-- Products -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-6">
    <template x-for="product in filteredProducts" :key="product.id">
      <div class="bg-white rounded shadow p-4 flex flex-col items-center">
        <img :src="product.picture" :alt="product.name" class="w-24 h-24 object-cover rounded mb-3">

        <div class="text-center mb-2">
          <span x-text="product.name" class="block font-semibold"></span>
          <span x-text="product.variant" class="text-sm text-gray-500"></span>
        </div>

        <span x-text="product.base_price.toString() + ' FCFA'" class="font-bold text-green-600 mb-3"></span>

        <div class="flex items-center gap-3">
          <button class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center"
            @click="alert('clicked haha')">
            â€“
          </button>

          <span x-text="product.qty || 0" class="w-6 text-center font-semibold"></span>

          <button class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center"
            @click="alert('clicked haha')">
            +
          </button>
        </div>
      </div>
    </template>
  </div>


  {{ end }}
